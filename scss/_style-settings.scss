
@import 'foundations/colors/colors_definitions';

/* @settings

name: Fancy-a-Story
id: fancy-a-story
settings:
    - 
        id: colors
        title: Colors
        type: heading
        collapsed: true
        level: 1
    - 
        id: theme-variant-light
        title: Light color scheme
        description: Select from a list of existing themes, or create your own by choosing custom
        type: class-select
        allowEmpty: false
        default: fas-silver-light
        options:
            - 
                label: Automn
                value: fas-automn
            - 
                label: Coffee
                value: fas-coffee-light
            - 
                label: Candy
                value: fas-candy
            - 
                label: Canyon
                value: fas-canyon
            - 
                label: Ice
                value: fas-ice
            - 
                label: Meadow
                value: fas-meadow
            - 
                label: Silver
                value: fas-silver-light
            - 
                label: Custom
                value: fas-custom-light
    - 
        id: theme-variant-dark
        title: Dark color scheme
        description: Select from a list of existing themes, or create your own by choosing custom
        type: class-select
        allowEmpty: false
        default: fas-silver-dark
        options:
            - 
                label: Artic
                value: fas-artic
            - 
                label: Atom
                value: fas-atom
            - 
                label: Chocolate
                value: fas-chocolate
            - 
                label: Coffee
                value: fas-coffee-dark
            - 
                label: Forest
                value: fas-forest
            - 
                label: Mystic
                value: fas-mystic
            - 
                label: Navy
                value: fas-navy
            - 
                label: Silver
                value: fas-silver-dark
            - 
                label: Swamp
                value: fas-swamp
            - 
                label: Underwater
                value: fas-unwerwater
            - 
                label: Volcano
                value: fas-volcano
            - 
                label: Custom
                value: fas-custom-dark
    - 
        id: fas-opposite-bg
        title: Opposite background
        description: Enable to use a light (resp. dark) app background in dark (resp. light) mode.
        type: class-toggle
        default: false
    - 
        id: custom-color-base-00
        title: Custom - Primary
        description: Color of the primary background (--color-base-00)
        type: variable-themed-color
        format: hex
        opacity: false
        default-light: '#{$default-primary-light}'
        default-dark: '#{$default-text-dark}'
    - 
        id: custom-color-base-100
        title: Custom - Text
        description: Color of the text (--color-base-100)
        type: variable-themed-color
        format: hex
        opacity: false
        default-light: '#{$default-text-light}'
        default-dark: '#{$default-primary-dark}'
    -
        id: custom-color-space
        title: Custom - Gradient color space
        description: Color space used in the color-mix() function creating the palette. They all give different effects for the colors between the primary background and the text foreground.
        type: variable-select
        default: srgb-linear
        options:
            - srgb-linear
            - srgb
            - lab
            - hsl
            - hwb

    - 
        id: note-accent
        title: Note accent colors
        type: heading
        collapsed: true
        level: 2
    -
        id: note-accent-1
        title: Note accent Color 1
        type: variable-themed-color
        opacity: false
        format: hsl-split
        default-light: '#ef476f'
        default-dark: '#ce3f61'
    -
        id: note-accent-2
        title: Note accent Color 2
        type: variable-themed-color
        opacity: false
        format: hsl-split
        default-light: '#f78c6b'
        default-dark: '#d57a5e'
    -
        id: note-accent-3
        title: Note accent Color 3
        type: variable-themed-color
        opacity: false
        format: hsl-split
        default-light: '#ffba1a'
        default-dark: '#dca119'
    -
        id: note-accent-4
        title: Note accent Color 4
        type: variable-themed-color
        opacity: false
        format: hsl-split
        default-light: '#0a916e'
        default-dark: '#07a47b'
    -
        id: note-accent-5
        title: Note accent Color 5
        type: variable-themed-color
        opacity: false
        format: hsl-split
        default-light: '#118ab2'
        default-dark: '#0d76a3'
    -
        id: note-accent-6
        title: Note accent Color 6
        type: variable-themed-color
        opacity: false
        format: hsl-split
        default-light: '#073b4c'
        default-dark: '#1f5e6e'

            
    - 
        id: accessibility
        title: Accessibility
        type: heading
        collapsed: true
        level: 1
    - 
        id: fas-accessibility
        title: Enable Accessibility variant
        description: This option makes the vault easier to read, with sans serif fonts, and increased font size and weight.
        type: class-toggle
        default: false
    - 
        id: fas-sans-serif
        title: Use sans serif fonts
        type: class-toggle
        default: false
    - 
        id: fas-bigger-font
        title: Increase default font size and weight
        type: class-toggle
        default: false
    - 
        id: fas-bg-textures
        title: Background textures
        description: Enable the background texture in the sidebars.
        type: class-toggle
        default: true
    - 
        id: fas-float-inline-margin
        title: Inline margin (left/right) for float elements
        description: Float elements are, for example, the fas-infobox callout, the polaroid callout, floating images, etc.
        type: variable-number
        format: px
        default: 12



    - 
        id: workspace
        title: Workspace
        type: heading
        collapsed: true
        level: 1
    - 
        id: status-bar-position
        title: Status bar position
        type: class-select
        allowEmpty: true
        default: none
        options:
            - 
                label: Default on hover
                value: fas-status-bar-default-hover
            - 
                label: Top
                value: fas-status-bar-top
            - 
                label: Ribbon
                value: fas-status-bar-ribbon

    - 
        id: sidebar
        title: Sidebars
        type: heading
        collapsed: true
        level: 2
    -
        id: fas-bookmark-tabs
        title: Bookmark style for the tabs
        type: variable-select
        default: disable
        options:
            - 
                label: Disable
                value: disable
            - 
                label: Flat
                value: flat
            - 
                label: Volume
                value: volume
    - 
        id: sidedock-tab-header-padding-bottom
        title: Gap between the selected tab and the content in the sidebars
        description: If you're annoyed by the fact that they touch each other, increase this value
        type: variable-number-slider
        format: px
        default: 0
        min: 0
        max: 6
    -
        id: sidedock-inset-border-color
        title: Color of the inside border
        type: variable-text
        default: var(--background-secondary)
    -
        id: fas-sidebar-texture-custom
        title: Use custom sidebar texture
        type: class-toggle
        default: false
    - 
        id: sidebar-texture-custom
        title: Sidebar texture url
        type: variable-text
        default: url("")
    -
        id: sidebar-texture-blend-custom
        title: Sidebar texture blending mode, in light mode
        type: variable-select
        default: multiply
        options:
            - normal
            - color
            - color-burn
            - color-dodge
            - darken
            - difference
            - exclusion
            - hard-light
            - hue
            - lighten
            - luminosity
            - multiply
            - overlay
            - saturation
            - screen
            - soft-light
    -
        id: sidebar-texture-blend-custom-dark
        title: Sidebar texture blending mode, in dark mode
        type: variable-select
        default: multiply
        options:
            - normal
            - color
            - color-burn
            - color-dodge
            - darken
            - difference
            - exclusion
            - hard-light
            - hue
            - lighten
            - luminosity
            - multiply
            - overlay
            - saturation
            - screen
            - soft-light
    -
        id: sidebar-texture-size-custom
        title: Sidebar texture size
        type: variable-text
        default: 500px
    -
        id: sidebar-texture-position-custom
        title: Sidebar texture position
        type: variable-text
        default: center center
    -
        id: sidebar-texture-opacity-custom
        title: Sidebar texture opacity
        type: variable-number
        default: 1
    -
        id: fas-file-explorer-decoration-custom
        title: Use custom file explorer decoration
        type: class-toggle
        default: false
    - 
        id: file-explorer-decoration-custom
        title: File explorer decoration url
        type: variable-text
        default: url("")
    -
        id: file-explorer-decoration-blend-custom
        title: File explorer decoration blending mode, in light mode
        type: variable-select
        default: normal
        options:
            - normal
            - color
            - color-burn
            - color-dodge
            - darken
            - difference
            - exclusion
            - hard-light
            - hue
            - lighten
            - luminosity
            - multiply
            - overlay
            - saturation
            - screen
            - soft-light
    -
        id: file-explorer-decoration-blend-custom-dark
        title: File explorer decoration blending mode, in dark mode
        type: variable-select
        default: normal
        options:
            - normal
            - color
            - color-burn
            - color-dodge
            - darken
            - difference
            - exclusion
            - hard-light
            - hue
            - lighten
            - luminosity
            - multiply
            - overlay
            - saturation
            - screen
            - soft-light
    -
        id: file-explorer-decoration-size-custom
        title: File explorer decoration  size
        type: variable-text
        default: 150px
    -
        id: file-explorer-decoration-position-custom
        title: File explorer decoration position
        type: variable-text
        default: right bottom
    -
        id: file-explorer-decoration-opacity-custom
        title: File explorer decoration opacity
        type: variable-number
        default: 0.1
    - 
        id: file-explorer-hover-animation
        title: Animate the hover effect in the file explorer
        type: variable-select
        default: enable
        options:
            - 
                value: enable
                label: Enable
            - 
                value: disable
                label: Disable



    - 
        id: editor
        title: Editor
        type: heading
        collapsed: true
        level: 1
    -
        id: file-line-width
        title: File line width
        type: variable-number
        format: px
        default: 700

    - 
        id: headings
        title: Headings
        type: heading
        collapsed: true
        level: 2
    - 
        id: header-color
        title: Color for the headings
        type: class-select
        allowEmpty: true
        default: fas-hue
        options:
            - 
                label: Hue
                value: fas-headings-hue
            - 
                label: Complementary hue
                value: fas-headings-complement
            - 
                label: Accent color
                value: fas-headings-accent
    - 
        id: header-style-h1
        title: Style for the first level heading (h1)
        type: class-select
        allowEmpty: true
        default: fas-h1-display
        options:
            - 
                label: Display
                value: fas-h1-display
            - 
                label: Stroke
                value: fas-h1-stroke
            
    - 
        id: images
        title: Images
        type: heading
        collapsed: true
        level: 2
    - 
        id: image-shadow-offset
        title: Shadow offset (px)
        description: Set to 0 for no shadow
        type: variable-number
        default: 8
        format: px
    - 
        id: image-shadow-stripe-thickness
        title: Shadow stripe thickness (px)
        type: variable-number
        default: 2
        format: px
    - 
        id: image-shadow-stripe-gap
        title: Shadow stripe gap (px)
        type: variable-number
        default: 4
        format: px

    - 
        id: links
        title: Links
        type: heading
        collapsed: true
        level: 2
    -
        id: link-decoration
        title: Internal link decoration
        type: variable-select
        default: doodle
        options:
            - none
            -
                value: doodle
                label: doodle (on hover)
            - underline
            - overline
            - underline overline
    -
        id: link-external-decoration
        title: External link decoration
        type: variable-select
        default: underline
        options:
            - none
            -
                value: doodle
                label: doodle (on hover)
            - underline
            - overline
            - underline overline
            
    - 
        id: lists
        title: Lists
        type: heading
        collapsed: true
        level: 2
    -
        id: fas-bullet-style
        title: Bullet style
        type: variable-select
        default: doodle
        options:
            - normal
            - doodle
    -
        id: fas-checkbox-style
        title: Checkbox style
        type: variable-select
        default: doodle
        options:
            - normal
            - doodle
            
    - 
        id: pdfs
        title: PDFs
        type: heading
        collapsed: true
        level: 2
    -
        id: pdf-blend-mode-light
        title: Blend mode, light mode
        description: multiply mode suggested
        type: variable-select
        default: normal
        options:
            - normal
            - multiply
            - screen
            - overlay
            - darken
            - lighten
            - color-dodge
            - color-burn
            - hard-light
            - soft-light
            - difference
            - exclusion
            - hue
            - saturation
            - color
            - luminosity
            - plus-darker
            - plus-lighter
    -
        id: pdf-blend-mode-dark
        title: Blend mode, dark mode
        description: screen mode suggested, with "Invert in dark mode" enabled
        type: variable-select
        default: normal
        options:
            - normal
            - multiply
            - screen
            - overlay
            - darken
            - lighten
            - color-dodge
            - color-burn
            - hard-light
            - soft-light
            - difference
            - exclusion
            - hue
            - saturation
            - color
            - luminosity
            - plus-darker
            - plus-lighter
    - 
        id: pdf-invert-dark
        title: Invert in dark mode
        type: variable-select
        default: disable
        options:
            - 
                value: enable
                label: Enable
            - 
                value: disable
                label: Disable
            
    - 
        id: properties
        title: Properties
        type: heading
        collapsed: true
        level: 2
    - 
        id: properties-columns
        title: Number of columns
        type: variable-number
        default: 2
        min: 1
        max: 4

    - 
        id: table
        title: Tables
        type: heading
        collapsed: true
        level: 2
    - 
        id: fas-plain-tables
        title: Use plain table style
        type: class-toggle
        default: false



    - 
        id: features
        title: Features
        type: heading
        collapsed: true
        level: 1
    - 
        id: fas-alternative-checkboxes
        title: Alternative checkboxes
        type: variable-select
        default: doodle
        options:
            - 
                value: doodle
                label: Enable - doodle
            - 
                value: normal
                label: Enable - normal
            - 
                value: disable
                label: Disable
    - 
        id: fas-floating-mode-button
        title: Floating button to switch note modes
        type: variable-select
        default: disable
        options:
            - 
                value: enable
                label: Enable
            - 
                value: disable
                label: Disable
    - 
        id: fas-floating-mode-button-position
        title: Floating button position
        type: variable-select
        default: right
        options:
            - 
                value: left
                label: Left
            - 
                value: right
                label: Right
    - 
        id: fas-highlight-active-note
        title: Highlight active note
        description: Inspired by the plugin Limelight, code adapted by @tif
        type: class-toggle
        default: false
    - 
        id: fas-rainbow-folders
        title: Rainbow folders
        type: variable-select
        default: enable
        options:
            - 
                value: enable
                label: Enable
            - 
                value: disable
                label: Disable

    -
        id: banners
        title: App background image
        type: heading
        collapsed: true
        level: 2
    -
        id: fas-background-image
        title: Enable app background image
        type: class-toggle
        default: false
    -
        id: fas-background-image-url
        title: Image url
        type: variable-text
        default: url("")
    -
        id: fas-background-image-blur
        title: Blur
        type: variable-number
        default: 0
        format: px
    -
        id: fas-background-image-opacity
        title: Opacity
        type: variable-number-slider
        default: 1
        min: 0
        max: 1
        step: 0.05

    -
        id: banners
        title: Banners
        type: heading
        collapsed: true
        level: 2
    - 
        id: banner-height
        title: Banner height
        type: variable-number
        default: 300
        format: px
    - 
        id: banner-slope-angle
        title: Banner slope angle
        type: variable-number
        default: 4
        format: deg
    - 
        id: banner-print-width
        title: Banner width in print mode
        type: variable-select
        default: full-bleed
        options:
            - 
                value: full-bleed
                label: Full bleed
            - 
                value: margins
                label: Inside margins



    - 
        id: additional-content
        title: Additional content
        type: heading
        collapsed: true
        level: 1
    -
        id: additional-fonts
        type: info-text
        markdown: true
        title: Additional fonts
        description: "Multiple elements of this theme can use specific fonts if they are available. To download the required fonts, you can add the file [additional_fonts.css](https://github.com/ElsaTam/obsidian-fancy-a-story/blob/main/css/additional_fonts.css) to your [snippets file](https://help.obsidian.md/Extending+Obsidian/CSS+snippets). This file can be very heavy. If you don't plan on using all of them, I would recommend deleting the unecessary @font-face from the snippet. You can see how which font is used [in the doc](https://elsatam.github.io/obsidian-fancy-a-story/docs/stylesettings/stylesettings.html#additional-fonts)"
    -
        id: canvas-node-bundle
        type: info-text
        markdown: true
        title: Canvas node tags
        description: "Usage of tags to define specific styling for canvas card can be very powerful. However, it requires a code that can cause performance issues. Also, such styling come as independant snippets. You can add the file [canvas-node-bundle](https://github.com/ElsaTam/obsidian-fancy-a-story/blob/main/css/canvas/canvas-node-bundle.css) to your [snippets file](https://help.obsidian.md/Extending+Obsidian/CSS+snippets) to download all the effects. Or choose individual ones from [this list](https://github.com/ElsaTam/obsidian-fancy-a-story/tree/main/css/canvas)."


*/

// Disable the settings when not used 
body:not(.fas-custom-light) .style-settings-container [data-id="custom-color-base-00"] .theme-light,
body:not(.fas-custom-light) .style-settings-container [data-id="custom-color-base-100"] .theme-light,
body:not(.fas-custom-dark)  .style-settings-container [data-id="custom-color-base-00"] .theme-dark,
body:not(.fas-custom-dark)  .style-settings-container [data-id="custom-color-base-100"] .theme-dark,
body:not(.fas-custom-light):not(.fas-custom-dark) .style-settings-container [data-id="custom-color-base-00"] .setting-item-info,
body:not(.fas-custom-light):not(.fas-custom-dark) .style-settings-container [data-id="custom-color-base-100"] .setting-item-info,
body:not(.fas-custom-light):not(.fas-custom-dark) .style-settings-container [data-id="custom-color-space"],
body.fas-accessibility .style-settings-container [data-id="fas-sans-serif"],
body.fas-accessibility .style-settings-container [data-id="fas-bigger-font"],
body:not(.fas-sidebar-texture-custom) .style-settings-container [data-id="sidebar-texture-custom"],
body:not(.fas-sidebar-texture-custom) .style-settings-container [data-id="sidebar-texture-blend-custom"],
body:not(.fas-sidebar-texture-custom) .style-settings-container [data-id="sidebar-texture-blend-custom-dark"],
body:not(.fas-sidebar-texture-custom) .style-settings-container [data-id="sidebar-texture-size-custom"],
body:not(.fas-sidebar-texture-custom) .style-settings-container [data-id="sidebar-texture-position-custom"],
body:not(.fas-sidebar-texture-custom) .style-settings-container [data-id="sidebar-texture-opacity-custom"],
body:not(.fas-file-explorer-decoration-custom) .style-settings-container [data-id="file-explorer-decoration-custom"],
body:not(.fas-file-explorer-decoration-custom) .style-settings-container [data-id="file-explorer-decoration-blend-custom"],
body:not(.fas-file-explorer-decoration-custom) .style-settings-container [data-id="file-explorer-decoration-blend-custom-dark"],
body:not(.fas-file-explorer-decoration-custom) .style-settings-container [data-id="file-explorer-decoration-size-custom"],
body:not(.fas-file-explorer-decoration-custom) .style-settings-container [data-id="file-explorer-decoration-position-custom"],
body:not(.fas-file-explorer-decoration-custom) .style-settings-container [data-id="file-explorer-decoration-opacity-custom"]
{
    opacity: 0.5;
    pointer-events: none;
}
@container not style(--fas-bookmark-tabs: disable) {
    .style-settings-container [data-id="sidedock-tab-header-padding-bottom"] {
        opacity: 0.5;
        pointer-events: none;
    }
}

// Show color for some text inputs
.style-settings-container [data-id="sidedock-inset-border-color"] .setting-item-control::before {
    content: "";
    display: block;
    height: 1em;
    width: 1em;
    background-color: var(--sidedock-inset-border-color);
    border-radius: 50%;
}

.style-settings-container {

    --h1-color: var(--color-accent);
    --current-h1-color: hsl(from var(--h1-color) h calc(s * 1) l);
    --pickr-size: 1.3em;


    // Color the headers 
    > .style-settings-container { --current-h1-color: hsl(from var(--h1-color) h calc(s * 0.5) l); }
    > .style-settings-container > .style-settings-container { --current-h1-color: hsl(from var(--h1-color) h calc(s * 0.3) l); }
    .style-settings-heading .setting-item-name {
        color: var(--current-h1-color);
    }

    // Visualise the hiearchical structure 
    & .style-settings-container {
        margin-left: 0;
        padding: var(--size-4-1) var(--size-2-3) 0 var(--size-4-6);
        border-left: 1px solid var(--current-h1-color);
    }

    // More compact color pickers 
    & .pickr button {
        width: var(--pickr-size);
        height: var(--pickr-size);
        &::after,
        &::before {
            border-radius: 50%;
        }
    }
    & .pickr-reset button {
        padding: 4px;
        margin-left: 8px;
        height: fit-content;
        & svg {
            width: var(--pickr-size);
            height: var(--pickr-size);
        }
    }
    & .themed-color-wrapper {
        display: flex;
        gap: 8px;
        & > div {
            margin: 0;
            padding: calc(var(--pickr-size) * 0.3);
            background: var(--color-base-00);
        }
    }
    .themed-color-wrapper > div {
        --background-primary: var(--color-base-00);
    }

    // Title and description on the same line 
    & .setting-item:not(.style-settings-info-text) .setting-item-info {
        > div {
            display: inline;
        }
        .setting-item-description:not(:empty)::before {
            content: "";
            border-left: 1px solid var(--color-base-30);
            margin: 0 5px;
            vertical-align: middle;
        }
    }
}