@import '../../animations/animations';

.kpr-rainbow-folders .nav-folder-children > .nav-folder,
.kpr-rainbow-folders .nav-files-container > div > .nav-folder,
.kpr-rainbow-folders [data-type="bookmarks"] .tree-item {
	&:nth-child(10n + 2) {
		--folder-color: var(--color-rainbow-1);
	}
	&:nth-child(10n + 3) {
		--folder-color: var(--color-rainbow-2);
	}
	&:nth-child(10n + 4) {
		--folder-color: var(--color-rainbow-3);
	}
	&:nth-child(10n + 5) {
		--folder-color: var(--color-rainbow-4);
	}
	&:nth-child(10n + 6) {
		--folder-color: var(--color-rainbow-5);
	}
	&:nth-child(10n + 7) {
		--folder-color: var(--color-rainbow-6);
	}
	&:nth-child(10n + 8) {
		--folder-color: var(--color-rainbow-7);
	}
	&:nth-child(10n + 9) {
		--folder-color: var(--color-rainbow-8);
	}
	&:nth-child(10n + 10) {
		--folder-color: var(--color-rainbow-9);
	}
	&:nth-child(10n + 1) {
		--folder-color: var(--color-rainbow-10);
	}
}

.kpr-rainbow-folders .nav-files-container .nav-folder.nav-folder .nav-folder,
.kpr-rainbow-folders [data-type="bookmarks"] .tree-item .tree-item {
    --folder-color: inherit;
}

.kpr-rainbow-folders .nav-files-container > div > .nav-folder .nav-folder-title,
.kpr-rainbow-folders [data-type="bookmarks"] .tree-item {
    --nav-item-color: var(--folder-color);
    --nav-item-background-hover: rgb(from var(--folder-color) r g b / 0.2);
}

@media (hover: hover) {
    body:not(.is-grabbing) .tree-item-self.is-clickable:hover {
        background: none;
    }
    body:not(.is-grabbing) .tree-item-self.is-clickable:hover::before {
        content: "";
        position: absolute;
        top: 0;
        right: 0;
        left: 0;
        bottom: 0;
        background-color: var(--nav-item-background-hover);
    }
    body:not(.is-grabbing) .tree-item-self.is-clickable:not(.is-active):hover::before {
        animation: bg-slide 0.5s ease-in-out;
    }
}

.nav-folder:has(.nav-file-title.is-active) > .nav-folder-title::after,
.nav-file-title.is-active::after,
.nav-folder-title.is-active::after {
    content: "";
    position: absolute;
    left: calc(-4px - var(--active-file-bullet-size));
    top: calc(50% - var(--active-file-bullet-size) * 0.5);
    width: var(--active-file-bullet-size);
    height: var(--active-file-bullet-size);
    border-radius: 50%;
    background-color: currentColor;
}