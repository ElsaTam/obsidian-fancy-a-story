/* GPLv3 license
Callout Masonry
Author: ElsaTam (Kapirklaa in Discord)
*/
.callout[data-callout=masonry] {
  --callout-padding: 0;
  --callout-content-padding: 0;
  --callout-border-width: 0;
  --image-shadow-offset: 0;
  --link-decoration: none;
  --link-unresolved-opacity: 1;
  --link-unresolved-filter: saturate(30%);
  background: none;
}
.callout[data-callout=masonry] > .callout-content > p {
  column-count: 4;
  column-gap: 0.5rem;
}
.callout[data-callout=masonry] > .callout-title {
  display: none;
}
.callout[data-callout=masonry] img {
  border-radius: var(--radius-m);
}
.callout[data-callout=masonry] a {
  font-size: 0;
}
.callout[data-callout=masonry]:has(a:hover) img:not(a:hover img) {
  filter: saturate(10%) blur(1px);
}

.callout[data-callout=masonry][data-callout-metadata~=col-2] > .callout-content > p {
  column-count: 2;
}

.callout[data-callout=masonry][data-callout-metadata~=col-3] > .callout-content > p {
  column-count: 3;
}

.callout[data-callout=masonry][data-callout-metadata~=col-4] > .callout-content > p {
  column-count: 4;
}

.callout[data-callout=masonry][data-callout-metadata~=col-5] > .callout-content > p {
  column-count: 5;
}

.callout[data-callout=masonry][data-callout-metadata~=col-6] > .callout-content > p {
  column-count: 6;
}

.callout[data-callout=masonry][data-callout-metadata~=col-7] > .callout-content > p {
  column-count: 7;
}

.callout[data-callout=masonry][data-callout-metadata~=col-8] > .callout-content > p {
  column-count: 8;
}

.callout[data-callout=masonry][data-callout-metadata~=col-9] > .callout-content > p {
  column-count: 9;
}

.callout[data-callout=masonry][data-callout-metadata=horizontal] > .callout-content > p {
  column-count: unset;
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  gap: 0.5rem;
}
.callout[data-callout=masonry][data-callout-metadata=horizontal] > .callout-content > p > * {
  flex-grow: 1;
}
.callout[data-callout=masonry][data-callout-metadata=horizontal] img {
  height: 8rem;
  width: 100%;
  object-fit: cover;
}
.callout[data-callout=masonry][data-callout-metadata=horizontal] > .callout-content > p > *:last-child {
  flex-grow: unset;
}
.callout[data-callout=masonry][data-callout-metadata=horizontal] br {
  display: none;
}

/* Fix for Minimal theme and img-grid cssclass */
.callout[data-callout=masonry]:not([data-callout-metadata=horizontal]) > .callout-content > p:has(> .image-embed) {
  display: block;
  column-gap: 0.5rem;
}

.callout[data-callout=masonry] .image-embed {
  display: initial;
}
